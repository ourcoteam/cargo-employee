{"version":3,"sources":["./src/app/location/location.page.html","./src/app/location/location.module.ts","./src/app/location/location.page.scss","./src/app/location/location.page.ts"],"names":[],"mappings":"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","file":"location-location-module-es2015.js","sourcesContent":["module.exports = \"<ion-header class=\\\"bg-header\\\">\\n    <ion-toolbar *ngIf=\\\"authService.isAuthenticated()\\\">\\n        <ion-button color=\\\"light\\\" fill=\\\"clear\\\" routerLink=\\\"/tabs/profile\\\" routerDirection=\\\"forward\\\" slot=\\\"end\\\">\\n            <ion-icon name=\\\"wallet\\\" slot=\\\"end\\\"></ion-icon>\\n            <ion-badge slot=\\\"start\\\">{{authService.userWallet?.wallet > 0 ? authService.userWallet?.wallet : 0}}</ion-badge>\\n        </ion-button>\\n        <ion-title>\\n            <ion-img src=\\\"/assets/img/home_logo_small.svg\\\" class=\\\"header-logo\\\"></ion-img>\\n        </ion-title>\\n        <ion-button color=\\\"light\\\" fill=\\\"clear\\\" routerLink=\\\"/tabs/notifications\\\" routerDirection=\\\"forward\\\" slot=\\\"start\\\">\\n            <ion-icon name=\\\"notifications\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-badge slot=\\\"end\\\">{{authService.notificationsCount?.unreaded > 0 ? authService.notificationsCount?.unreaded : 0}}</ion-badge>\\n        </ion-button>\\n    </ion-toolbar>\\n    <h6 class=\\\"emp-name ion-text-center\\\">\\n        {{_translate.instant('tabs.location')}}\\n    </h6>\\n</ion-header>\\n\\n<ion-content class=\\\"io-padding\\\">\\n    <div id=\\\"map_canvas\\\" #map_canvas>\\n        <ion-img src=\\\"/assets/img/marker_delivery.svg\\\" [ngClass]=\\\"mapDragging ? 'map-marker dragging' : 'map-marker'\\\" id=\\\"DummyMarker\\\"></ion-img>\\n    </div>\\n</ion-content>\\n<ion-footer class=\\\"has-action\\\">\\n    <ion-button class=\\\"btn-full btn-gradient\\\" expand=\\\"block\\\" round strong [disabled]=\\\"!lat || !lng\\\" (click)=\\\"updateLocation()\\\">\\n        {{ _translate.instant('general.update_my_location') }}\\n    </ion-button>\\n</ion-footer>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationPage } from './location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LocationPage]\n})\nexport class LocationPageModule {}\n","module.exports = \"#map_canvas {\\n  width: 90%;\\n  height: 93%;\\n  border-radius: 15px;\\n  z-index: 999999;\\n  margin: 5%;\\n}\\n#map_canvas ion-img.map-marker {\\n  max-width: 60px;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, -50%) scale(1);\\n          transform: translate(-50%, -50%) scale(1);\\n  opacity: 1;\\n  -webkit-transition: all 0.2s;\\n  transition: all 0.2s;\\n}\\n#map_canvas ion-img.map-marker.dragging {\\n  -webkit-transform: translate(-50%, -50%) scale(1.1);\\n          transform: translate(-50%, -50%) scale(1.1);\\n  opacity: 0.5;\\n}\\n#map_canvas ion-button.map-btn {\\n  position: absolute;\\n  z-index: 2;\\n  border-radius: 15px;\\n  --border-radius: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zcG90bGF5ZXIvRG93bmxvYWRzL2NhcmdvLWVtcGxveWVlL3NyYy9hcHAvbG9jYXRpb24vbG9jYXRpb24ucGFnZS5zY3NzIiwic3JjL2FwcC9sb2NhdGlvbi9sb2NhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7QUNDSjtBREFJO0VBQ0ksZUFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsaURBQUE7VUFBQSx5Q0FBQTtFQUNBLFVBQUE7RUFDQSw0QkFBQTtFQUFBLG9CQUFBO0FDRVI7QUREUTtFQUNJLG1EQUFBO1VBQUEsMkNBQUE7RUFDQSxZQUFBO0FDR1o7QURBSTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNFUiIsImZpbGUiOiJzcmMvYXBwL2xvY2F0aW9uL2xvY2F0aW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXBfY2FudmFzIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIGhlaWdodDogOTMlO1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgei1pbmRleDogOTk5OTk5O1xuICAgIG1hcmdpbjogNSU7XG4gICAgaW9uLWltZy5tYXAtbWFya2VyIHtcbiAgICAgICAgbWF4LXdpZHRoOiA2MHB4O1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgICYuZHJhZ2dpbmcge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMS4xKTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpb24tYnV0dG9uLm1hcC1idG4ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHotaW5kZXg6IDI7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICB9XG59IiwiI21hcF9jYW52YXMge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDkzJTtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgei1pbmRleDogOTk5OTk5O1xuICBtYXJnaW46IDUlO1xufVxuI21hcF9jYW52YXMgaW9uLWltZy5tYXAtbWFya2VyIHtcbiAgbWF4LXdpZHRoOiA2MHB4O1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG59XG4jbWFwX2NhbnZhcyBpb24taW1nLm1hcC1tYXJrZXIuZHJhZ2dpbmcge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxLjEpO1xuICBvcGFjaXR5OiAwLjU7XG59XG4jbWFwX2NhbnZhcyBpb24tYnV0dG9uLm1hcC1idG4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDI7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIC0tYm9yZGVyLXJhZGl1czogMTVweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { ApiService } from '../services/api.service';\nimport { ToastService } from '../services/ui/toast.service';\nimport { LocationService } from '../services/location.service';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  GoogleMaps,\n  GoogleMap,\n  GoogleMapsEvent,\n  Marker,\n  GoogleMapsAnimation,\n  MyLocation,\n  Environment,\n  Geocoder,\n  BaseArrayClass,\n  GeocoderResult\n} from '@ionic-native/google-maps';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-location',\n  templateUrl: './location.page.html',\n  styleUrls: ['./location.page.scss']\n})\nexport class LocationPage implements OnInit {\n  @ViewChild('map_canvas', { static: false }) mapCanvas: ElementRef;\n  map: GoogleMap;\n  loading: any;\n\n  dummyMarker: any;\n\n  mapDragging = false;\n\n  lat;\n  lng;\n  constructor(\n    public authService: AuthService,\n    public apiService: ApiService,\n    public locationService: LocationService,\n    private router: Router,\n    public loadingCtrl: LoadingController,\n    public _translate: TranslateService,\n    public toastService: ToastService\n  ) {}\n\n  ngOnInit() {}\n\n  async ionViewDidEnter() {\n    await this.loadMap().then(() => {\n      const location = this.map.getCameraTarget();\n      console.log('Your Location is : ' + location.lat + ',' + location.lng);\n      console.log(this.lat);\n      console.log(this.lng);\n    });\n  }\n\n  ionViewWillLeave() {\n    const nodeList = document.querySelectorAll('._gmaps_cdv_');\n\n    for (let k = 0; k < nodeList.length; ++k) {\n      nodeList.item(k).classList.remove('_gmaps_cdv_');\n    }\n  }\n\n  ionViewDidLeave() {\n    this.map.remove();\n  }\n\n  async loadMap() {\n    Environment.setEnv({\n      API_KEY_FOR_BROWSER_RELEASE: 'AIzaSyDvYLf1yswB12mE2qGDxDmlBJOF_Su-CCs',\n      API_KEY_FOR_BROWSER_DEBUG: 'AIzaSyDvYLf1yswB12mE2qGDxDmlBJOF_Su-CCs'\n    });\n    this.map = GoogleMaps.create(this.mapCanvas.nativeElement, {\n      controls: {\n        compass: false,\n        myLocation: false,\n        myLocationButton: false,\n        mapToolbar: false,\n        zoom: false\n      },\n      gestures: {\n        scroll: false,\n        tilt: false,\n        zoom: false,\n        rotate: false\n      },\n      camera: {\n        target: {\n          lat: 31.032260599999997,\n          lng: 31.36069329999998\n        },\n        zoom: 2\n      }\n    });\n    await this.map.getMyLocation().then((location: MyLocation) => {\n      // console.log(JSON.stringify(location, null, 2));\n\n      // Move the map camera to the location with animation\n      this.map.animateCamera({\n        target: location.latLng,\n        zoom: 19,\n        duration: 400\n      });\n      const myLocation = this.map.getCameraTarget();\n      setTimeout(() => {\n        this.lat = myLocation.lat;\n        this.lng = myLocation.lng;\n        console.log(this.lat);\n        console.log(this.lng);\n      }, 800);\n    });\n    // this.map\n      // .addEventListener(GoogleMapsEvent.CAMERA_MOVE_START)\n      // .subscribe(data => {});\n    this.map\n      .addEventListener(GoogleMapsEvent.CAMERA_MOVE_END)\n      .subscribe(data => {\n        const location = this.map.getCameraTarget();\n        this.lat = location.lat;\n        this.lng = location.lng;\n        console.log(this.lat);\n        console.log(this.lng);\n      });\n    this.map.setAllGesturesEnabled(false);\n    this.map.setClickable(false);\n  }\n\n  async getCurrentLocation() {\n    this.map.clear();\n\n    this.loading = await this.loadingCtrl.create({\n      message: this._translate.instant('general.please_wait')\n    });\n    await this.loading.present();\n\n    // Get the location of you\n    await this.map\n      .getMyLocation()\n      .then((location: MyLocation) => {\n        this.loading.dismiss();\n        // console.log(JSON.stringify(location, null, 2));\n\n        // Move the map camera to the location with animation\n        this.map.animateCamera({\n          target: location.latLng,\n          zoom: 17,\n          tilt: 30\n        });\n      })\n      .catch(err => {\n        this.loading.dismiss();\n        console.log('PROBLEM IS FOUND');\n        console.log(err.error_message);\n\n        this.toastService.simpleToast(\n          this._translate.instant('general.enable_location_from_settings_first'),\n          'danger',\n          2000\n        );\n      });\n    await this.locationService.getMyLocation();\n  }\n\n  async updateLocation() {\n    this.loading = await this.loadingCtrl.create({\n      message: this._translate.instant('general.please_wait')\n    });\n    await this.loading.present();\n    await this.locationService.getMyLocation().then(() => {\n      this.apiService\n        .updateLocation(\n          this.authService.userToken,\n          this.locationService.myLat,\n          this.locationService.myLng\n        )\n        .subscribe(\n          (res: any) => {\n            console.log(res);\n            this.loading.dismiss();\n            if (res.success === 'ok') {\n              this.toastService.simpleToast(\n                this._translate.instant('general.update_location_success'),\n                'success',\n                2000\n              );\n            }\n          },\n          error => {\n            console.log(error);\n            this.loading.dismiss();\n            this.toastService.simpleToast(\n              this._translate.instant('general.update_location_faild'),\n              'danger',\n              2500\n            );\n          }\n        );\n    });\n  }\n}\n"],"sourceRoot":""}