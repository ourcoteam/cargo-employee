{"version":3,"sources":["./src/app/location/location.page.html","./src/app/location/location.module.ts","./src/app/location/location.page.scss","./src/app/location/location.page.ts"],"names":[],"mappings":"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","file":"location-location-module-es5.js","sourcesContent":["module.exports = \"<ion-header class=\\\"bg-header\\\">\\n    <ion-toolbar *ngIf=\\\"authService.isAuthenticated()\\\">\\n        <ion-button color=\\\"light\\\" fill=\\\"clear\\\" routerLink=\\\"/tabs/profile\\\" routerDirection=\\\"forward\\\" slot=\\\"end\\\">\\n            <ion-icon name=\\\"wallet\\\" slot=\\\"end\\\"></ion-icon>\\n            <ion-badge slot=\\\"start\\\">{{authService.userWallet?.wallet > 0 ? authService.userWallet?.wallet : 0}}</ion-badge>\\n        </ion-button>\\n        <ion-title>\\n            <ion-img src=\\\"/assets/img/home_logo_small.svg\\\" class=\\\"header-logo\\\"></ion-img>\\n        </ion-title>\\n        <ion-button color=\\\"light\\\" fill=\\\"clear\\\" routerLink=\\\"/tabs/notifications\\\" routerDirection=\\\"forward\\\" slot=\\\"start\\\">\\n            <ion-icon name=\\\"notifications\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-badge slot=\\\"end\\\">{{authService.notificationsCount?.unreaded > 0 ? authService.notificationsCount?.unreaded : 0}}</ion-badge>\\n        </ion-button>\\n    </ion-toolbar>\\n    <h6 class=\\\"emp-name ion-text-center\\\">\\n        {{_translate.instant('tabs.location')}}\\n    </h6>\\n</ion-header>\\n\\n<ion-content class=\\\"io-padding\\\">\\n    <div id=\\\"map_canvas\\\" #map_canvas>\\n        <ion-img src=\\\"/assets/img/marker_delivery.svg\\\" [ngClass]=\\\"mapDragging ? 'map-marker dragging' : 'map-marker'\\\" id=\\\"DummyMarker\\\"></ion-img>\\n    </div>\\n</ion-content>\\n<ion-footer class=\\\"has-action\\\">\\n    <ion-button class=\\\"btn-full btn-gradient\\\" expand=\\\"block\\\" round strong [disabled]=\\\"!lat || !lng\\\" (click)=\\\"updateLocation()\\\">\\n        {{ _translate.instant('general.update_my_location') }}\\n    </ion-button>\\n</ion-footer>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LocationPage } from './location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LocationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LocationPage]\n})\nexport class LocationPageModule {}\n","module.exports = \"#map_canvas {\\n  width: 90%;\\n  height: 93%;\\n  border-radius: 15px;\\n  z-index: 999999;\\n  margin: 5%;\\n}\\n#map_canvas ion-img.map-marker {\\n  max-width: 60px;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, -50%) scale(1);\\n          transform: translate(-50%, -50%) scale(1);\\n  opacity: 1;\\n  -webkit-transition: all 0.2s;\\n  transition: all 0.2s;\\n}\\n#map_canvas ion-img.map-marker.dragging {\\n  -webkit-transform: translate(-50%, -50%) scale(1.1);\\n          transform: translate(-50%, -50%) scale(1.1);\\n  opacity: 0.5;\\n}\\n#map_canvas ion-button.map-btn {\\n  position: absolute;\\n  z-index: 2;\\n  border-radius: 15px;\\n  --border-radius: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zcG90bGF5ZXIvRG93bmxvYWRzL2NhcmdvLWVtcGxveWVlL3NyYy9hcHAvbG9jYXRpb24vbG9jYXRpb24ucGFnZS5zY3NzIiwic3JjL2FwcC9sb2NhdGlvbi9sb2NhdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLFVBQUE7QUNDSjtBREFJO0VBQ0ksZUFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsaURBQUE7VUFBQSx5Q0FBQTtFQUNBLFVBQUE7RUFDQSw0QkFBQTtFQUFBLG9CQUFBO0FDRVI7QUREUTtFQUNJLG1EQUFBO1VBQUEsMkNBQUE7RUFDQSxZQUFBO0FDR1o7QURBSTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7QUNFUiIsImZpbGUiOiJzcmMvYXBwL2xvY2F0aW9uL2xvY2F0aW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXBfY2FudmFzIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIGhlaWdodDogOTMlO1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgei1pbmRleDogOTk5OTk5O1xuICAgIG1hcmdpbjogNSU7XG4gICAgaW9uLWltZy5tYXAtbWFya2VyIHtcbiAgICAgICAgbWF4LXdpZHRoOiA2MHB4O1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgICYuZHJhZ2dpbmcge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMS4xKTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpb24tYnV0dG9uLm1hcC1idG4ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHotaW5kZXg6IDI7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICAgIC0tYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICB9XG59IiwiI21hcF9jYW52YXMge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDkzJTtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgei1pbmRleDogOTk5OTk5O1xuICBtYXJnaW46IDUlO1xufVxuI21hcF9jYW52YXMgaW9uLWltZy5tYXAtbWFya2VyIHtcbiAgbWF4LXdpZHRoOiA2MHB4O1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG59XG4jbWFwX2NhbnZhcyBpb24taW1nLm1hcC1tYXJrZXIuZHJhZ2dpbmcge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxLjEpO1xuICBvcGFjaXR5OiAwLjU7XG59XG4jbWFwX2NhbnZhcyBpb24tYnV0dG9uLm1hcC1idG4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDI7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIC0tYm9yZGVyLXJhZGl1czogMTVweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { ApiService } from '../services/api.service';\nimport { ToastService } from '../services/ui/toast.service';\nimport { LocationService } from '../services/location.service';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  GoogleMaps,\n  GoogleMap,\n  GoogleMapsEvent,\n  Marker,\n  GoogleMapsAnimation,\n  MyLocation,\n  Environment,\n  Geocoder,\n  BaseArrayClass,\n  GeocoderResult\n} from '@ionic-native/google-maps';\nimport { LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-location',\n  templateUrl: './location.page.html',\n  styleUrls: ['./location.page.scss']\n})\nexport class LocationPage implements OnInit {\n  @ViewChild('map_canvas', { static: false }) mapCanvas: ElementRef;\n  map: GoogleMap;\n  loading: any;\n\n  dummyMarker: any;\n\n  mapDragging = false;\n\n  lat;\n  lng;\n  constructor(\n    public authService: AuthService,\n    public apiService: ApiService,\n    public locationService: LocationService,\n    private router: Router,\n    public loadingCtrl: LoadingController,\n    public _translate: TranslateService,\n    public toastService: ToastService\n  ) {}\n\n  ngOnInit() {}\n\n  async ionViewDidEnter() {\n    await this.loadMap().then(() => {\n      const location = this.map.getCameraTarget();\n      console.log('Your Location is : ' + location.lat + ',' + location.lng);\n      console.log(this.lat);\n      console.log(this.lng);\n    });\n  }\n\n  ionViewWillLeave() {\n    const nodeList = document.querySelectorAll('._gmaps_cdv_');\n\n    for (let k = 0; k < nodeList.length; ++k) {\n      nodeList.item(k).classList.remove('_gmaps_cdv_');\n    }\n  }\n\n  ionViewDidLeave() {\n    this.map.remove();\n  }\n\n  async loadMap() {\n    Environment.setEnv({\n      API_KEY_FOR_BROWSER_RELEASE: 'AIzaSyDvYLf1yswB12mE2qGDxDmlBJOF_Su-CCs',\n      API_KEY_FOR_BROWSER_DEBUG: 'AIzaSyDvYLf1yswB12mE2qGDxDmlBJOF_Su-CCs'\n    });\n    this.map = GoogleMaps.create(this.mapCanvas.nativeElement, {\n      controls: {\n        compass: false,\n        myLocation: false,\n        myLocationButton: false,\n        mapToolbar: false,\n        zoom: false\n      },\n      gestures: {\n        scroll: false,\n        tilt: false,\n        zoom: false,\n        rotate: false\n      },\n      camera: {\n        target: {\n          lat: 31.032260599999997,\n          lng: 31.36069329999998\n        },\n        zoom: 2\n      }\n    });\n    await this.map.getMyLocation().then((location: MyLocation) => {\n      // console.log(JSON.stringify(location, null, 2));\n\n      // Move the map camera to the location with animation\n      this.map.animateCamera({\n        target: location.latLng,\n        zoom: 19,\n        duration: 400\n      });\n      const myLocation = this.map.getCameraTarget();\n      setTimeout(() => {\n        this.lat = myLocation.lat;\n        this.lng = myLocation.lng;\n        console.log(this.lat);\n        console.log(this.lng);\n      }, 800);\n    });\n    // this.map\n      // .addEventListener(GoogleMapsEvent.CAMERA_MOVE_START)\n      // .subscribe(data => {});\n    this.map\n      .addEventListener(GoogleMapsEvent.CAMERA_MOVE_END)\n      .subscribe(data => {\n        const location = this.map.getCameraTarget();\n        this.lat = location.lat;\n        this.lng = location.lng;\n        console.log(this.lat);\n        console.log(this.lng);\n      });\n    this.map.setAllGesturesEnabled(false);\n    this.map.setClickable(false);\n  }\n\n  async getCurrentLocation() {\n    this.map.clear();\n\n    this.loading = await this.loadingCtrl.create({\n      message: this._translate.instant('general.please_wait')\n    });\n    await this.loading.present();\n\n    // Get the location of you\n    await this.map\n      .getMyLocation()\n      .then((location: MyLocation) => {\n        this.loading.dismiss();\n        // console.log(JSON.stringify(location, null, 2));\n\n        // Move the map camera to the location with animation\n        this.map.animateCamera({\n          target: location.latLng,\n          zoom: 17,\n          tilt: 30\n        });\n      })\n      .catch(err => {\n        this.loading.dismiss();\n        console.log('PROBLEM IS FOUND');\n        console.log(err.error_message);\n\n        this.toastService.simpleToast(\n          this._translate.instant('general.enable_location_from_settings_first'),\n          'danger',\n          2000\n        );\n      });\n    await this.locationService.getMyLocation();\n  }\n\n  async updateLocation() {\n    this.loading = await this.loadingCtrl.create({\n      message: this._translate.instant('general.please_wait')\n    });\n    await this.loading.present();\n    await this.locationService.getMyLocation().then(() => {\n      this.apiService\n        .updateLocation(\n          this.authService.userToken,\n          this.locationService.myLat,\n          this.locationService.myLng\n        )\n        .subscribe(\n          (res: any) => {\n            console.log(res);\n            this.loading.dismiss();\n            if (res.success === 'ok') {\n              this.toastService.simpleToast(\n                this._translate.instant('general.update_location_success'),\n                'success',\n                2000\n              );\n            }\n          },\n          error => {\n            console.log(error);\n            this.loading.dismiss();\n            this.toastService.simpleToast(\n              this._translate.instant('general.update_location_faild'),\n              'danger',\n              2500\n            );\n          }\n        );\n    });\n  }\n}\n"],"sourceRoot":""}